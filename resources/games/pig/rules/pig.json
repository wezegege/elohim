{
    "defaults": [
        [
            [
                "score", 
                "permanent"
            ], 
            0
        ], 
        [
            [
                "score", 
                "temporary"
            ], 
            0
        ]
    ], 
    "rules": {
        "actions": [
            {
                "actions": [
                    {
                        "actions": [
                            {
                                "destination": [
                                    "move"
                                ], 
                                "library": "input", 
                                "name": "ask-player", 
                                "options": {
                                    "hold": "Hold points", 
                                    "roll": "Roll a dice"
                                }
                            }, 
                            {
                                "condition": {
                                    "expressions": [
                                        {
                                            "library": "core", 
                                            "name": "variable", 
                                            "variable": [
                                                "move"
                                            ]
                                        }, 
                                        {
                                            "library": "core", 
                                            "name": "value", 
                                            "value": "roll"
                                        }
                                    ], 
                                    "library": "core", 
                                    "name": "equals"
                                }, 
                                "iffalse": [
                                    {
                                        "destination": [
                                            "score", 
                                            "permanent"
                                        ], 
                                        "library": "data", 
                                        "name": "tranfer-current", 
                                        "origin": [
                                            "score", 
                                            "temporary"
                                        ]
                                    }, 
                                    {
                                        "library": "data", 
                                        "name": "set-current", 
                                        "value": false, 
                                        "variable": [
                                            "turn"
                                        ]
                                    }
                                ], 
                                "iftrue": [
                                    {
                                        "destination": [
                                            "roll", 
                                            "dice"
                                        ], 
                                        "library": "random", 
                                        "name": "roll-dice-current", 
                                        "size": 6
                                    }, 
                                    {
                                        "condition": {
                                            "expressions": [
                                                {
                                                    "library": "core", 
                                                    "name": "variable", 
                                                    "variable": [
                                                        "roll", 
                                                        "dice"
                                                    ]
                                                }, 
                                                {
                                                    "library": "core", 
                                                    "name": "value", 
                                                    "value": 1
                                                }
                                            ], 
                                            "library": "core", 
                                            "name": "equals"
                                        }, 
                                        "iffalse": [
                                            {
                                                "destination": [
                                                    "score", 
                                                    "temporary"
                                                ], 
                                                "library": "data", 
                                                "name": "tranfer-current", 
                                                "origin": [
                                                    "roll", 
                                                    "dice"
                                                ]
                                            }, 
                                            {
                                                "condition": {
                                                    "left": {
                                                        "expressions": [
                                                            {
                                                                "library": "core", 
                                                                "name": "variable", 
                                                                "variable": [
                                                                    "score", 
                                                                    "permanent"
                                                                ]
                                                            }, 
                                                            {
                                                                "library": "core", 
                                                                "name": "variable", 
                                                                "variable": [
                                                                    "score", 
                                                                    "temporary"
                                                                ]
                                                            }
                                                        ], 
                                                        "library": "core", 
                                                        "name": "sum"
                                                    }, 
                                                    "library": "core", 
                                                    "name": "greater-equals", 
                                                    "right": {
                                                        "library": "core", 
                                                        "name": "value", 
                                                        "value": 100
                                                    }
                                                }, 
                                                "iffalse": [], 
                                                "iftrue": [
                                                    {
                                                        "destination": [
                                                            "score", 
                                                            "permanent"
                                                        ], 
                                                        "library": "data", 
                                                        "name": "tranfer-current", 
                                                        "origin": [
                                                            "score", 
                                                            "temporary"
                                                        ]
                                                    }, 
                                                    {
                                                        "library": "data", 
                                                        "name": "set-current", 
                                                        "value": false, 
                                                        "variable": [
                                                            "turn"
                                                        ]
                                                    }
                                                ], 
                                                "library": "core", 
                                                "name": "if"
                                            }
                                        ], 
                                        "iftrue": [
                                            {
                                                "library": "data", 
                                                "name": "set-current", 
                                                "value": 0, 
                                                "variable": [
                                                    "score", 
                                                    "temporary"
                                                ]
                                            }, 
                                            {
                                                "library": "data", 
                                                "name": "set-current", 
                                                "value": false, 
                                                "variable": [
                                                    "turn"
                                                ]
                                            }
                                        ], 
                                        "library": "core", 
                                        "name": "if"
                                    }
                                ], 
                                "library": "core", 
                                "name": "if"
                            }
                        ], 
                        "library": "data", 
                        "name": "while-current-true", 
                        "variable": [
                            "turn"
                        ]
                    }
                ], 
                "condition": {
                    "condition": {
                        "left": {
                            "library": "core", 
                            "name": "value", 
                            "value": 100
                        }, 
                        "library": "core", 
                        "name": "greater", 
                        "right": {
                            "library": "core", 
                            "name": "variable", 
                            "variable": [
                                "score", 
                                "permanent"
                            ]
                        }
                    }, 
                    "library": "core", 
                    "name": "all"
                }, 
                "library": "core", 
                "name": "foreach-while"
            }, 
            {
                "criteria": [
                    "score", 
                    "permanent"
                ], 
                "library": "core", 
                "name": "set-winner"
            }
        ], 
        "library": "core", 
        "name": "sequence"
    }
}
