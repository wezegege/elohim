{
  'name' : 'Pig',
  'players-min' : 2,
  'players-max' : 10,
  'categories' : ['dices', 'gambling'],
  'rules' : [
  {
    'rule' : 'input:foreach-player-until',
    'message' : 'player-turn',
    'comparison' : {
      'source' : 'player::score::permanent',
      'comparison' : 'greater-equal',
      'value' : 100,
    },
    'actions' : {
      'rule' : 'input:while',
      'comparison' : {
        'source' : 'player::turn',
        'value' : true,
      },
      'actions' : [{
        'rule' : 'input:ask-player',
        'source' : 'player::choice',
        'values' : ['roll', 'hold'],
      }
      {
        'rule' : 'core:if',
        'comparison' : {
          'source' : 'player::choice',
          'value' : 'hold',
        },
        'then' : [
        {
          'rule' : 'core:transfer',
          'source' : 'score:temporary',
          'destination' : 'score:permanent',
          'message' : 'hold',
        },
        {
          'rule' : 'input:end-turn',
        },
        ],
        'else' : [
        {
          'rule' : 'roll:dice',
          'size' : 6,
          'destination' : 'dice',
          'message' : 'roll',
        },
        {
          'rule' :'core:if',
          'comparison' : {
            'variable' : 'roll:dice',
            'value' : 1,
          },
          'then' : [
          {
            'rule' : 'score:reset',
            'source' : 'temporary',
            'message' : 'reset',
          },
          {
            'rule' : 'input:end-turn',
          },
          ],
          'else' : {
            'rule' : 'core:add-variable',
            'source' : 'score:temporary',
            'variable' : 'roll:dice',
            'message' : 'add',
          },
          ],
        },
      },
        ],
    },
  },
  {
    'rule' : 'core:find-winner-best',
    'source' : 'score:permanent',
    'message' : 'end-game',
  },
  ],
}
